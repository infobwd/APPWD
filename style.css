

/* ===== Floating Scan Button Center ===== */
:root { --tabbar-h: 64px; }
#fabScan{
  position: fixed; left:50%; transform:translateX(-50%);
  bottom: calc(var(--tabbar-h) + 16px + env(safe-area-inset-bottom));
  width: clamp(56px, 16vw, 72px); height: clamp(56px, 16vw, 72px);
  border-radius: 18px; z-index: 60; box-shadow: 0 12px 30px rgba(33,97,243,.35);
  -webkit-tap-highlight-color: transparent;
}
@media (max-width: 420px){
  #fabScan{ bottom: calc(var(--tabbar-h) + 12px + env(safe-area-inset-bottom)); border-radius: 16px; }
}
.fab-wrap, .fab-container { position: static !important; }

/* ===== Check-in Tabs: Compact ===== */
.checkin-compact{ display:flex; gap:.5rem; overflow-x:auto; padding-bottom:.25rem; -webkit-overflow-scrolling:touch; scroll-snap-type:x proximity; }
.checkin-compact .tab{ flex:0 0 auto; padding:.375rem .75rem; font-size:.9rem; line-height:1.15; border-radius:12px; scroll-snap-align:start; box-shadow:none; }
.checkin-compact .tab.is-active{ font-weight:600; }
@media (max-width:420px){
  .checkin-compact .tab{ padding:.35rem .6rem; font-size:.85rem; border-radius:10px; }
}

/* utility */
.hide{ display:none !important; }


/* ===== Floating Scan Button (Center + Safe Area) ===== */
:root { --tabbar-h: 64px; } /* ปรับตามความสูงแถบล่าง */

#fabScan{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(var(--tabbar-h) + 16px + env(safe-area-inset-bottom));
  width: clamp(56px, 16vw, 72px);
  height: clamp(56px, 16vw, 72px);
  border-radius: 18px;
  z-index: 60;
  box-shadow: 0 12px 30px rgba(33, 97, 243, .35);
  -webkit-tap-highlight-color: transparent;
}
@media (max-width: 420px){
  #fabScan{
    bottom: calc(var(--tabbar-h) + 12px + env(safe-area-inset-bottom));
    border-radius: 16px;
  }
}
/* ป้องกันการถูก parent จัดตำแหน่งใหม่ */
.fab-wrap, .fab-container { position: static !important; }

/* ===== 820x1180 and small screens spacing / tabs ===== */
main{ padding-bottom: calc(96px + var(--tabbar-h)); } /* กันโดน tabbar บัง */
#homeView [role="tablist"]{ display:flex; gap:.5rem; overflow-x:auto; -webkit-overflow-scrolling:touch; scroll-snap-type:x proximity; padding-bottom:.25rem; }
#homeView [role="tablist"] .btn{ flex:0 0 auto; white-space:nowrap; }
#homeView [role="tablist"]::-webkit-scrollbar{ display:none; }

/* Featured slider smooth */
#homeNewsCards.slider{ display:grid; grid-auto-flow:column; grid-auto-columns:100%; overflow:auto; scroll-snap-type:x mandatory; gap:0; }
#homeNewsCards.slider>*{ scroll-snap-align:center; }
@media (min-width:1024px){
  #homeNewsCards.slider{ grid-auto-flow:row; grid-auto-columns:auto; overflow:visible; scroll-snap-type:none; gap:12px; grid-template-columns:repeat(3,minmax(0,1fr)); }
}

/* Home links grid responsive */
#homeLinks{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.75rem; }
@media (min-width:640px){ #homeLinks{ grid-template-columns:repeat(3,minmax(0,1fr)); } }
@media (min-width:1024px){ #homeLinks{ grid-template-columns:repeat(4,minmax(0,1fr)); } }

/* Bottom tabbar ensure on top */
.tabbar{ z-index: 55; }


/* ===== Center container across widths ===== */
.container{ margin:0 auto; width:100%; max-width:1120px; }

/* Home links grid card: details */
#homeLinks{ display:grid; grid-template-columns: repeat(auto-fill, minmax(200px,1fr)); gap:12px; }
.link-item{ display:flex; gap:.75rem; align-items:center; padding:.6rem .8rem; border:1px solid var(--bd);
  border-radius:14px; background:var(--card); transition:transform .15s ease, box-shadow .15s ease; }
.link-item:hover{ transform:translateY(-2px); box-shadow:0 8px 18px rgba(15,23,42,.08); }
.link-item img{ width:40px; height:40px; border-radius:10px; object-fit:cover; border:1px solid var(--bd); background:#fff; }
.link-item .meta{ min-width:0 }
.link-item .meta .title{ font-weight:600; line-height:1.2; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.link-item .meta .cat{ font-size:12px; color:var(--ink3); white-space:nowrap; overflow:hidden; text-overflow:ellipsis }

/* Ensure homeView centered vertically spacing nice on 820x1180 */
main.container{ padding-bottom: calc(96px + var(--tabbar-h)); }
#homeView .card{ margin-left:auto; margin-right:auto; }

/* Hide duplicate heading from any old renderers */
#homeLinks .section-title{ display:none }
