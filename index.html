<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <title>WD School Portal ‚Äî MVP</title>

  <!-- Tailwind & Font -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme:{
        extend:{
          fontFamily:{ sans:['Kanit','system-ui','sans-serif'] },
          colors:{
            ink:'#1e2a44', bg:'#0f1424', card:'#141a2f', line:'#223052',
            accent:'#8ab4ff', soft:'#eaf4ff', warn:'#fff3b0', ok:'#34d399', danger:'#ef4444'
          },
          boxShadow:{ card:'0 12px 28px rgba(0,0,0,.12)' }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap">

  <style>
    html, body { height:100%; background:#0f1424; color:#e5eefc }
    .hide{ display:none !important }
    .card{ background:#141a2f; border:1px solid #223052; border-radius:18px }
    .chip{ padding:.25rem .6rem; border:1px solid #223052; border-radius:999px; font-size:.75rem }
    .btn{ display:inline-flex; align-items:center; gap:.5rem; padding:.55rem 1rem; border-radius:999px; border:1px solid #223052 }
    .btn-prim{ background:#1b2746; border-color:#2b3b66 }
    .wf{ border:1.5px dashed #2b3b66; border-radius:16px }
    @media (min-width: 1024px){
      .layout { display:grid; grid-template-columns: 260px 1fr; gap:1.5rem }
      .sidebar { display:block }
      .bottom-nav{ display:none }
    }
    @media (max-width: 1023px){
      .layout { display:grid; grid-template-columns: 1fr; gap:1.5rem }
      .sidebar { display:none }
      .bottom-nav{ display:flex }
    }
  </style>
</head>
<body class="font-sans">
  <!-- Topbar -->
  <header class="sticky top-0 z-40 bg-[#0f1424]/85 backdrop-blur border-b border-[#223052]">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center gap-3">
      <div class="w-8 h-8 rounded-xl wf grid place-items-center text-xs" aria-hidden="true">WD</div>
      <div class="flex-1">
        <div class="text-base lg:text-lg font-semibold">WD School Portal</div>
        <div id="subtitle" class="text-xs text-slate-400">MVP ‚Ä¢ Supabase Auth + Posts + Check-in + Leave + App Hub</div>
      </div>
      <div id="userBox" class="flex items-center gap-2">
        <button id="btnLogin" class="btn btn-prim">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <div id="userInfo" class="hide chip">‚Äî</div>
        <button id="btnLogout" class="hide btn">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-6 layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <nav class="card p-3">
        <div class="text-sm uppercase text-slate-400 mb-2 px-2">‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</div>
        <ul class="space-y-1">
          <li><a class="navlink block px-3 py-2 rounded-lg hover:bg-[#1b2746]" data-nav="#home">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
          <li><a class="navlink block px-3 py-2 rounded-lg hover:bg-[#1b2746]" data-nav="#announcements">üì∞ ‡∏Ç‡πà‡∏≤‡∏ß/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</a></li>
          <li><a class="navlink block px-3 py-2 rounded-lg hover:bg-[#1b2746]" data-nav="#checkin">‚è±Ô∏è ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å</a></li>
          <li><a class="navlink block px-3 py-2 rounded-lg hover:bg-[#1b2746]" data-nav="#leave">üóìÔ∏è ‡∏•‡∏≤ & ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</a></li>
          <li><a class="navlink block px-3 py-2 rounded-lg hover:bg-[#1b2746]" data-nav="#apphub">üîó App Hub</a></li>
        </ul>
      </nav>
      <div class="card mt-3 p-3">
        <div class="text-sm uppercase text-slate-400 mb-2 px-2">‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡πà‡∏≠</div>
        <ul class="text-sm space-y-2">
          <li class="flex justify-between"><span>‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà</span><span id="metricNewPosts" class="chip">‚Äî</span></li>
          <li class="flex justify-between"><span>‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤(‡∏â‡∏±‡∏ô)</span><span id="metricMyLeaves" class="chip">‚Äî</span></li>
          <li class="flex justify-between"><span>‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)</span><span id="metricCheckin" class="chip">‚Äî</span></li>
        </ul>
      </div>
    </aside>

    <!-- Content -->
    <section id="viewports" class="space-y-6">
      <!-- HOME -->
      <div class="viewport" data-view="#home">
        <div class="grid lg:grid-cols-3 gap-6">
          <div class="lg:col-span-2 card p-4">
            <div class="flex items-center justify-between">
              <div class="text-lg font-semibold">‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
              <a data-nav="#announcements" class="btn">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
            </div>
            <div id="homePosts" class="mt-4 grid gap-3"></div>
          </div>
          <div class="card p-4">
            <div class="text-lg font-semibold mb-2">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</div>
            <div id="todayStatus" class="space-y-2 text-sm">
              <div class="wf p-3">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤: <span class="chip">‚Äî</span></div>
              <div class="wf p-3">‡∏¢‡∏≠‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô: <span class="chip">‚Äî</span></div>
            </div>
            <div class="mt-3"><a data-nav="#checkin" class="btn btn-prim">‡πÑ‡∏õ‡∏ó‡∏µ‡πà ‚Äú‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‚Äù</a></div>
          </div>
        </div>
      </div>

      <!-- ANNOUNCEMENTS -->
      <div class="viewport hide" data-view="#announcements">
        <div class="card p-4 mb-3">
          <div class="flex items-center justify-between">
            <div class="text-lg font-semibold">‡∏Ç‡πà‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå</div>
            <div class="flex gap-2 text-xs">
              <span class="chip">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
              <span class="chip">‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</span>
              <span class="chip">‡∏ö‡∏∏‡∏Ñ‡∏•‡∏≤‡∏Å‡∏£</span>
            </div>
          </div>
        </div>
        <div id="postList" class="grid lg:grid-cols-3 gap-4"></div>
      </div>

      <!-- CHECK-IN -->
      <div class="viewport hide" data-view="#checkin">
        <div class="grid lg:grid-cols-3 gap-6">
          <div class="lg:col-span-2 card p-4">
            <div class="text-lg font-semibold mb-3">‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å</div>
            <div class="flex gap-2 mb-3">
              <button id="btnCheckIn" class="btn btn-prim">‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô</button>
              <button id="btnCheckOut" class="btn">‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå</button>
              <label class="ml-auto text-sm text-slate-300">
                ‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ: <input id="photoInput" type="file" accept="image/*" class="text-xs" />
              </label>
            </div>
            <div class="text-xs text-slate-400">* ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ç‡∏≠‡∏û‡∏¥‡∏Å‡∏±‡∏î (GPS) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ô‡∏ö‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</div>
          </div>
          <div class="card p-4">
            <div class="text-lg font-semibold mb-2">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ (‡∏â‡∏±‡∏ô)</div>
            <div id="myCheckins" class="space-y-2 text-sm"></div>
          </div>
        </div>
      </div>

      <!-- LEAVE -->
      <div class="viewport hide" data-view="#leave">
        <div class="grid lg:grid-cols-3 gap-6">
          <div class="lg:col-span-2 card p-4">
            <div class="text-lg font-semibold mb-3">‡∏¢‡∏∑‡πà‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏≤</div>
            <form id="leaveForm" class="grid sm:grid-cols-2 gap-3 text-sm">
              <label class="flex flex-col gap-1">
                <span>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏≤</span>
                <select name="type" class="bg-[#0f1424] border border-[#223052] rounded p-2">
                  <option value="vacation">‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô</option>
                  <option value="business">‡∏•‡∏≤‡∏Å‡∏¥‡∏à</option>
                  <option value="sick">‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢</option>
                </select>
              </label>
              <label class="flex flex-col gap-1">
                <span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</span>
                <input name="start_date" type="date" class="bg-[#0f1424] border border-[#223052] rounded p-2">
              </label>
              <label class="flex flex-col gap-1">
                <span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</span>
                <input name="end_date" type="date" class="bg-[#0f1424] border border-[#223052] rounded p-2">
              </label>
              <label class="flex flex-col gap-1 sm:col-span-2">
                <span>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</span>
                <textarea name="reason" rows="3" class="bg-[#0f1424] border border-[#223052] rounded p-2"></textarea>
              </label>
              <label class="flex flex-col gap-1 sm:col-span-2">
                <span>‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
                <input name="attachment" type="file" class="text-xs">
              </label>
              <div class="sm:col-span-2"><button class="btn btn-prim">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠</button></div>
            </form>
          </div>
          <div class="card p-4">
            <div class="text-lg font-semibold mb-2">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</div>
            <div id="myLeaves" class="space-y-2 text-sm"></div>
          </div>
        </div>
      </div>

      <!-- APP HUB -->
      <div class="viewport hide" data-view="#apphub">
        <div class="card p-4 mb-3">
          <div class="flex items-center justify-between">
            <div class="text-lg font-semibold">‡∏®‡∏π‡∏ô‡∏¢‡πå‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏∞‡∏ö‡∏ö</div>
            <div class="flex gap-2">
              <span class="chip">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
              <span class="chip">‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£</span>
              <span class="chip">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</span>
            </div>
          </div>
        </div>
        <div id="appLinks" class="grid sm:grid-cols-4 grid-cols-2 gap-4"></div>
      </div>
    </section>
  </main>

  <!-- Bottom Nav (Mobile) -->
  <nav class="bottom-nav fixed bottom-0 inset-x-0 bg-[#0f1424] border-t border-[#223052]">
    <div class="max-w-7xl mx-auto grid grid-cols-5">
      <button class="py-3 text-sm navbtn" data-nav="#home">üè†<div class="text-[11px]">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</div></button>
      <button class="py-3 text-sm navbtn" data-nav="#announcements">üì∞<div class="text-[11px]">‡∏Ç‡πà‡∏≤‡∏ß</div></button>
      <button class="py-3 text-sm navbtn" data-nav="#checkin">‚è±Ô∏è<div class="text-[11px]">‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤</div></button>
      <button class="py-3 text-sm navbtn" data-nav="#leave">üóìÔ∏è<div class="text-[11px]">‡∏•‡∏≤</div></button>
      <button class="py-3 text-sm navbtn" data-nav="#apphub">üîó<div class="text-[11px]">Hub</div></button>
    </div>
  </nav>

  <!-- Scripts -->
  <script type="module" src="./app.js"></script>
</body>
</html>
